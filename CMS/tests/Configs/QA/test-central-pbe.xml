<?xml version="1.0" encoding="UTF-8"?>

<colo:colocation
  name="moscow-test-central"
  description="Moscow Test Central"
  xmlns:colo="http://www.foros.com/cms/colocation"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://www.foros.com/cms/colocation platform:/resource/coloModel/src/main/model/colocation.xsd">

  <host name="nnode0" hostName="nnode0"/>
  <host name="nnode1" hostName="nnode1"/>
  <host name="nnode2" hostName="nnode2"/>
  <host name="nnode3" hostName="nnode3"/>
  <host name="nnode4" hostName="nnode4"/>
  <host name="nnode5" hostName="nnode5"/>

  <host name="vnode0" hostName="vnode0"/>
  <host name="vnode3" hostName="vnode3"/>
  <host name="vbak" hostName="vbak"/>

  <application descriptor="AdServer-3.5.6.274" description="Managed by svn">

    <configuration>
      <environment xmlns="http://www.adintelligence.net/xsd/AdServer/Configuration">
        <forosZoneManagement>
          <private_key>-----BEGIN RSA PRIVATE KEY-----
MIICWwIBAAKBgQDQNIRHWBKTRsd6NdFcIc5SdZeV7Tz2xtLzTSk5JuXEcek12Epu
U77ROGfV7U2KE0kzGLwksi6K9DP57IDarSmNSQf+2phfaDIiclnpN8UVozqBBhyd
IVcZ2/Wszq3AL67MxyJcB2jw2eZxgtQFxN6maD0ZeHwN2I8mPcqqg5l97QIBIwKB
gQCsg0kH6eOBV+ccHfacy42yCal8OZjpuq7Jl7RxLtuixMiLszZbafXgjdJgy+/K
LTymrhg7qZRHP15EG7s42J7EBiE2i6hTbbp8NeHxud0mfxnOvWnNNpu8PgQABs+v
d30i7QhJ6MaV6r9buNUi0T6BYjNI3BiQEBQ+8Lv2ntR57wJBAPelXAttViCwUTcX
nyJLotGxGzbrTsEJjPJyzbfOI6WQEprx3bsTmcHZFXQZpIeu+fKpUbGBuPw4lJnw
kdEHkk8CQQDXOo0dydC6P6VA2VJ7xtGZPhzY72hcMH2V1lHQ3CELkIcxbRxFDWRd
1vYvp33WuBkiXrZ2uWBfAFdVLDWsQgkDAkEAhm+1n82jyJo6t4HaC02hh8aLHdAy
EQUvQclLGqMaqlWGcV66MlsY9DQEVPf6Owc3OpZuLSkp6AF1PZ/aIQQcOQJAGJj6
L0pDvYOd24aNFXXOz69TwQVrAzi95T0QqifJQyZ12cNTsB7JpFMU0j8HETmcePTh
pysg9OoYnAUNcsW34wJAA/QcRkJ41N0Bk+UZ3a6+n7TRA4jcQeATpuj9pmjBJ5RQ
1RXmEhyZjmEbXrpUzs1Q4/9LiwfRYx2gjYYvYchtYw==
-----END RSA PRIVATE KEY-----</private_key>
        </forosZoneManagement>
        <ispZoneManagement separate_isp_zone="0">
          <private_key>-----BEGIN RSA PRIVATE KEY-----
MIIEogIBAAKCAQEApkRqPzpzY2OTWq6cNt7kwdCOd7T49NzL1SMHKzm9RLV+3ZHW
1zs2sKLJEjyag57PpoSgJZZAvOJmA3iWIk2x7f/KfuGLT6e1Qqa8YQvNauS3HylD
qnwkOhbz1vrVEa50OpgZ1tlr1HbQGnmWyK7aulB5qd8GXa9CAIWqFZNnr6CBFPjx
kWONnFA0fb7Nw9kM7ABpbUOt3FqwSyVW1QyWPXbnNudw982vnz65ZBLjsiQjOZZx
pJhWRIOmjIgJs06yJ4SE1CXOmwVn3hKUEzpfT+IM29+7r3L4Z1RCZXQ1MrNsG0Cm
9e7EaUE9nzeFsDbBxWUL25XplVEU72HqIlMeuwIBIwKCAQATAIErzCpxwjy56BHa
Yp3NAeRlc8SuRR6cBADRvXS3ZTMSAgnstk9kpOPHkeXF5kOeAIdUwLbxA+5my/Pm
qcsxJIwrwgFK7phfY4M+Sn3gVKc2wuMpbUX4Ap+GSI1hG0B7uZyNlTDlFOSVT7l2
BVrTdulVPg9bKfjqHeeNb+6XumM9Gzft6BhCy0z4CXNFTY8nw5glvk0DcdvKbVyH
qvtNgoucg6+L1G3qSnlIlB8nODvFwOwhdgrhRrCEEaAdcCx5BthJSYGI4qgRnp5b
u9CyW394fko+DK0hxSGXv+kM/+L5biA2A/5wyslgVKrlj3FTun5PxJH80PSxdHjl
R1SLAoGBANNbRPOFX3k4YEmmJzA6vQUDyytLu3sRljWvPha1uHWRoIqx02iAUHe/
a6BorjdTR3kSJ6oDrltImNlpMrSKm/zz/ubTbCCNO2hDxOFZOpG5Pp/aC7XDeM2k
DpzHlLPmF1G0EFmTD745ZkGIUAIemF4i2BR6fVCBJfuB8YLLHiGbAoGBAMljBdSq
VUAbfQldROzqtWNMRcrXRxDsoDdwqlZ8PAnFoBbrk8hv+nYdx3PAVJvHsJ8lFrV8
IRvIwESfuxwnHTAQibl/doCgCsEAIckXVGt+AtGjgvxNCz/byL+uEEoa3RhgrLOK
PBPU7JoMAqw490QF7SYnIJuwBrxctUWBBNlhAoGBAME9gN6l06IHqH3ZvW3sj4+O
cJydAy6w/lz3/kCmJP3G+S5ZcNSSkragYmbGG6BMJBbsBwHXetcdzZOTYY8fpI9/
/v7tL6i7pAeOatypWh7VQJImcRs2X9H1FKyZN3/oT9Wr8bD7fBuiMZsASSaCX2wC
maxSu7dRgdABxt37iUNLAoGASs0CKmsm+o3d/Cn1B4pgoTmWRAbRQMzrDUcasmio
lepRZ5lUJeBy+Kv5oAWbxNUkWF47on6P9GCB7ZpqEcVinNLxU4cdYvmdmCSe1amU
YnCh9hgpVmXCWYwl/g1zw8DVxznZvwd1ZnOoVnl9VelF5hDUbUG7p4qGKLS4W6Tz
LCsCgYEAz9KGyddmzrIMkn9XPTRUzmlbpAMrwCjlivRRmGSgJ4OosV9AFe993AG4
AEsS/havqX7cZiQ7N8l4q4oQ7xz6UDTPGL15seYlgYXGAOuw6Uerm/Vq/lvtfFJo
n0RJhfEz0Yvlx83g2HxwS/MFPI1XuxNOyQkS6yu9bi9pZKaL61s=
-----END RSA PRIVATE KEY-----</private_key>
        </ispZoneManagement>
      </environment>
    </configuration>

    <serviceGroup descriptor="AdCluster" name="AdCluster">

      <configuration>
        <cluster xmlns="http://www.adintelligence.net/xsd/AdServer/Configuration" enable_search_term_stats="true"
          referrer_logging_site_referrer_stats="disabled" referrer_logging_action_stats="domain">
          <environment
            workspace_root="/opt/foros/server/var"
            config_root="/opt/foros/server/etc"
            cache_root="/opt/foros/server/var/cache"
            server_root="/opt/foros/server/"
            unixcommons_root="/opt/foros/server/"
            data_root="/opt/foros/server/var/www"/>
          <coloParams
            colo_id="1"
            min_RTB_user_age="14400"
            RTB_offline_UID_generation="true"
            ad_request_profiling="ad-request profiling and stats collection enabled"
            CDN_domain="f.foroscrv-rubytest.net"
            https_CDN_domain="fs.foroscrv-rubytest.net"
            set_uid="always"
            probe_uid="true"
            skip_external_ids="0:0&#10;-1&#10;skip_ssp_id_test1&#10;19700101000001">
            <virtualServer>
            <httpsParams>
              <cert>
                <content>
Certificate:
    Data:
        Version: 3 (0x2)
        Serial Number: 16 (0x10)
        Signature Algorithm: sha1WithRSAEncryption
        Issuer: C=RU, ST=Moscow, O=Phorm Inc, OU=Phorm Moscow, CN=Phorm Moscow CA/emailAddress=adm@ocslab.com
        Validity
            Not Before: Mar 15 12:33:36 2010 GMT
            Not After : Mar 12 12:33:36 2020 GMT
        Subject: C=RU, ST=Moscow, L=Moscow, O=Phorm Inc, OU=Phorm Moscow, CN=*.foros-rubytest.net
        Subject Public Key Info:
            Public Key Algorithm: rsaEncryption
            RSA Public Key: (1024 bit)
                Modulus (1024 bit):
                    00:f2:17:06:15:76:4f:96:71:5b:48:b1:d2:73:f1:
                    04:6c:9b:df:a6:c3:d1:38:09:94:79:9c:dc:87:7a:
                    73:64:88:59:d7:a4:f7:a6:dc:1a:33:27:12:59:3a:
                    54:f9:6c:56:ee:7e:2a:0d:99:d0:81:09:40:fd:5e:
                    1c:1d:df:82:39:c8:2b:b2:18:e3:d5:bb:f1:18:b2:
                    f3:a9:79:6b:0b:e2:9f:cb:09:d6:ae:f2:dc:65:15:
                    6e:15:55:6b:d1:9b:22:63:2f:02:57:55:b2:5a:3c:
                    ed:61:8c:4e:7d:33:6d:7b:6d:46:f0:89:7d:cc:39:
                    d5:26:e5:32:eb:e4:b8:27:8b
                Exponent: 65537 (0x10001)
        X509v3 extensions:
            X509v3 Basic Constraints:
                CA:FALSE
            Netscape Comment:
                OpenSSL Generated Certificate
            X509v3 Subject Key Identifier:
                54:AF:20:4A:FD:7D:53:3D:4A:58:12:B0:99:4E:A3:8F:44:9E:B4:ED
            X509v3 Authority Key Identifier:
                keyid:FD:FE:7E:27:30:13:8C:A8:1C:3D:32:02:C4:2D:0B:60:3F:87:E1:F2

    Signature Algorithm: sha1WithRSAEncryption
        8a:41:8e:99:4a:88:cb:38:fb:47:7a:cb:0e:2d:83:d7:9f:6d:
        f8:d3:38:f5:22:92:e1:cc:8e:d1:02:8a:51:91:fb:db:c6:70:
        e9:f1:bf:06:7d:0e:e3:b0:6d:56:a2:d2:b1:7c:3a:75:e0:85:
        ff:ca:49:aa:39:d4:29:b4:76:50:07:c3:3d:05:1b:ef:b2:9b:
        b9:6a:72:32:4d:19:67:e7:0e:02:8e:1f:89:35:f2:80:c6:5a:
        be:06:9d:28:35:34:d2:aa:34:07:fc:bd:74:c5:0c:a6:5e:3a:
        2c:71:74:0e:f5:a3:2e:58:c2:c1:bb:bb:75:43:8c:9d:b0:ac:
        17:aa
-----BEGIN CERTIFICATE-----
MIIC6zCCAlSgAwIBAgIBEDANBgkqhkiG9w0BAQUFADCBgjELMAkGA1UEBhMCUlUx
DzANBgNVBAgTBk1vc2NvdzESMBAGA1UEChMJUGhvcm0gSW5jMRUwEwYDVQQLEwxQ
aG9ybSBNb3Njb3cxGDAWBgNVBAMTD1Bob3JtIE1vc2NvdyBDQTEdMBsGCSqGSIb3
DQEJARYOYWRtQG9jc2xhYi5jb20wHhcNMTAwMzE1MTIzMzM2WhcNMjAwMzEyMTIz
MzM2WjB3MQswCQYDVQQGEwJSVTEPMA0GA1UECBMGTW9zY293MQ8wDQYDVQQHEwZN
b3Njb3cxEjAQBgNVBAoTCVBob3JtIEluYzEVMBMGA1UECxMMUGhvcm0gTW9zY293
MRswGQYDVQQDDBIqLm9peC1ydWJ5dGVzdC5uZXQwgZ8wDQYJKoZIhvcNAQEBBQAD
gY0AMIGJAoGBAPIXBhV2T5ZxW0ix0nPxBGyb36bD0TgJlHmc3Id6c2SIWdek96bc
GjMnElk6VPlsVu5+Kg2Z0IEJQP1eHB3fgjnIK7IY49W78Riy86l5awvin8sJ1q7y
3GUVbhVVa9GbImMvAldVslo87WGMTn0zbXttRvCJfcw51SblMuvkuCeLAgMBAAGj
ezB5MAkGA1UdEwQCMAAwLAYJYIZIAYb4QgENBB8WHU9wZW5TU0wgR2VuZXJhdGVk
IENlcnRpZmljYXRlMB0GA1UdDgQWBBRUryBK/X1TPUpYErCZTqOPRJ607TAfBgNV
HSMEGDAWgBT9/n4nMBOMqBw9MgLELQtgP4fh8jANBgkqhkiG9w0BAQUFAAOBgQCK
QY6ZSojLOPtHessOLYPXn2340zj1IpLhzI7RAopRkfvbxnDp8b8GfQ7jsG1WotKx
fDp14IX/ykmqOdQptHZQB8M9BRvvspu5anIyTRln5w4Cjh+JNfKAxlq+Bp0oNTTS
qjQH/L10xQymXjoscXQO9aMuWMLBu7t1Q4ydsKwXqg==
-----END CERTIFICATE-----
                </content>
              </cert>
              <key>
                <content>
-----BEGIN RSA PRIVATE KEY-----
MIICXQIBAAKBgQDyFwYVdk+WcVtIsdJz8QRsm9+mw9E4CZR5nNyHenNkiFnXpPem
3BozJxJZOlT5bFbufioNmdCBCUD9Xhwd34I5yCuyGOPVu/EYsvOpeWsL4p/LCdau
8txlFW4VVWvRmyJjLwJXVbJaPO1hjE59M217bUbwiX3MOdUm5TLr5LgniwIDAQAB
AoGAJLP46CgXyOdGv662CX3w/cZkEhR+E9DgAdAWXzPhasyBUoBgS5vzHO4/ieee
GnKie2YFWiqHwgh1IfSyrpTEWVLRkz5ViauUatLW3DgGMP9+NHZBJZDAja7zkdWR
vhMeA0+1qz2M328q5XQFZS9PVPqLm1VETRtJ6Wp+CjdQGYECQQD8OQ3XARsWrXx7
dNVLUUz2gdDONFBEQ9bg/r+wkpusI33gcvphQQ0Qq536zi4SdD9dF6KHZLIy1QXR
qiAWeXyvAkEA9bcfhNqwuRnPJbnNnO46cob/EJ3xY9K4rZnGXJ1XnKYZTr2p9eHr
kwzg3XxcnIdYqljKEcXEtF88K6oQ7HwR5QJBAL86IpwYYolXD0Iq2mw4P7nFwqIU
V6bqKEh93Kfq/8wLPKynf92sjFNPSn+VQqkLKd9SxA8S8WhIyhike5+OjFECQBwM
WEu5Dv1CJfQ/fmoQg5l5MXp7HQfxEOW4LP17dHnMOA1V9yW7MUHq8Ww2+vdfN87S
LdbThX21dU/irOXhz8UCQQDFQlsuH4PDCD7hYSGjjcRChDakvI3FN4aDuTfDdK4E
bRnpwRnDiLc4fUN8ZaaqpOLlm7+otsd9CWrMvj/oXvDX
-----END RSA PRIVATE KEY-----
                </content>
              </key>
              <ca>
                <content>
-----BEGIN CERTIFICATE-----
MIIC+jCCAmOgAwIBAgIBADANBgkqhkiG9w0BAQUFADCBgjELMAkGA1UEBhMCUlUx
DzANBgNVBAgTBk1vc2NvdzESMBAGA1UEChMJUGhvcm0gSW5jMRUwEwYDVQQLEwxQ
aG9ybSBNb3Njb3cxGDAWBgNVBAMTD1Bob3JtIE1vc2NvdyBDQTEdMBsGCSqGSIb3
DQEJARYOYWRtQG9jc2xhYi5jb20wHhcNMDgwNzA3MTM0MzQ0WhcNMjgwNzAyMTM0
MzQ0WjCBgjELMAkGA1UEBhMCUlUxDzANBgNVBAgTBk1vc2NvdzESMBAGA1UEChMJ
UGhvcm0gSW5jMRUwEwYDVQQLEwxQaG9ybSBNb3Njb3cxGDAWBgNVBAMTD1Bob3Jt
IE1vc2NvdyBDQTEdMBsGCSqGSIb3DQEJARYOYWRtQG9jc2xhYi5jb20wgZ8wDQYJ
KoZIhvcNAQEBBQADgY0AMIGJAoGBALBmr2AsJLoH92WeHVUPhZNUDTwP2EDG4G3c
7GHgFtICbQykTfeSPD+qhokUOJussctiYoBuuzuXTQJ5pOd4aueA2mTVyMnhE9yd
oKe3AEjwRGTLBwcFX9OV/oFDAB5Uu2+9vCYlFS+FxYCigswU/Cq58/L2Q64Bck1R
RlrrJGZlAgMBAAGjfjB8MAwGA1UdEwQFMAMBAf8wLAYJYIZIAYb4QgENBB8WHU9w
ZW5TU0wgR2VuZXJhdGVkIENlcnRpZmljYXRlMB0GA1UdDgQWBBT9/n4nMBOMqBw9
MgLELQtgP4fh8jAfBgNVHSMEGDAWgBT9/n4nMBOMqBw9MgLELQtgP4fh8jANBgkq
hkiG9w0BAQUFAAOBgQAJWKjmA5AMnq5jJS8N4VCakt1yhOL9sHN/iEOja4gjL+AQ
+Ubf38kzg5rfCc1gXtec4NHlW2EQfiRYDQownBqTuclAKk06cSeBsP6Y7x2vAjcL
3y4/Q8U4lRCjqHDyerc/V/TL1QoqSOG6CZBCI/lqcSzvsYdS40L9TAiB9K7nKQ==
-----END CERTIFICATE-----
                </content>
              </ca>
            </httpsParams>
            <adservingDomain name="a.foros-rubytest.net"/>
            <adservingDomain name="b.foros-rubytest.net"/>
            <thirdPartyContentDomain name="forosssp-rubytest.net"/>
            <thirdPartyContentDomain name="f.foroscrv-rubytest.net"/>
            <thirdPartyContentDomain name="fs.foroscrv-rubytest.net"/>
            <thirdPartyContentDomain name="foroscrv-rubytest.net"/>
            <thirdPartyContentDomain name="v.f.foroscrv-rubytest.net"/>
            <biddingDomain name="a.foros-rubytest.net"/>
            <videoDomain name="v.a.foros-rubytest.net"/>
            <clickDomain name="clk.a.foros-rubytest.net"/>
            </virtualServer>
            <virtualServer https_enabled="true" keep_alive="true" keep_alive_timeout="10" max_keep_alive_requests="0">
              <biddingDomain name="r.a.foros-rubytest.net"/>
            </virtualServer>
            <securityToken
              key0="MFBOeuplH3LlQqfGSvNiew=="
              key1="gYi+K845gfiUkvx7Se1zKA=="
              key2="mVa0GF8y1uvou3mktkNxqw=="
              key3="mCFIshSwVu4VxRTi73Rf+Q=="
              key4="fCW/qXof04/U/qRTggbJLw=="
              key5="K2UPkfYBFNA+MxHKkV5OUA=="
              key6="emcqWycuiztgJVng4az0Xw=="/>
            <RTBAccount account_id="347120"
              tanx_encryption_key="5117962f876a70e1478e99fef41e71d6"/>
            <RTBAccount account_id="347304"
              openx_encryption_key="b08c70cfbcb0eb6cab7e82c6b75da52072ae62b2bf4b990bb80a48d8141eec07"
              openx_integrity_key="bf77ec55c30130c1d8cd1862ed2a4cd2c76ac33bc0c4ce8a3d3bbd3ad5687792"/>
            <RTBAccount account_id="347306"
              openx_encryption_key="C9DCA41807724CA4B6AEC421FF74C749A123772EB24148928804207981D083CC"
              openx_integrity_key="E199E923167547AC815BEA83E2862A08E4D4DB167CE94D248090A16C713D6498"/>
            <RTBAccount account_id="347563"
              baidu_encryption_key="005e38cb01abc22fd5acd77001abc22fd5acfe8001abc22fd5ad06509b1bb875"
              baidu_integrity_key="005e38cb01abc22fd5ad6be001abc22fd5ad73b001abc22fd5ad7b802e88c532"/>
            <RTBAccount account_id="348080" max_cpm_value="500.01"/>
            <RTBAccount account_id="348613"
              tanx_encryption_key="b0036ce2a7edb02c06fab9cac2bee333"
              openx_encryption_key="b08c70cfbcb0eb6cab7e82c6b75da52072ae62b2bf4b990bb80a48d8141eec07"
              openx_integrity_key="bf77ec55c30130c1d8cd1862ed2a4cd2c76ac33bc0c4ce8a3d3bbd3ad5687792"/>
            <RTBAccount account_id="348614"
              openx_encryption_key="b08c70cfbcb0eb6cab7e82c6b75da52072ae62b2bf4b990bb80a48d8141eec07"
              openx_integrity_key="bf77ec55c30130c1d8cd1862ed2a4cd2c76ac33bc0c4ce8a3d3bbd3ad5687792"/>
            <RTBAccount account_id="348615"
              tanx_encryption_key="b0036ce2a7edb02c06fab9cac2bee333"/>
            <RTBSite site_id="139594" 
              tanx_encryption_key="5117962f876a70e1478e99fef41e71d6"
              openx_encryption_key="C9DCA41807724CA4B6AEC421FF74C749A123772EB24148928804207981D083CC"
              openx_integrity_key="E199E923167547AC815BEA83E2862A08E4D4DB167CE94D248090A16C713D6498"/>
            <RTBSite site_id="139595" 
              openx_encryption_key="C9DCA41807724CA4B6AEC421FF74C749A123772EB24148928804207981D083CC"
              openx_integrity_key="E199E923167547AC815BEA83E2862A08E4D4DB167CE94D248090A16C713D6498"/>
            <RTBSite site_id="139596" 
              tanx_encryption_key="5117962f876a70e1478e99fef41e71d6"/>
            <RTBSite site_id="139598" 
              tanx_encryption_key="5117962f876a70e1478e99fef41e71d6"/>
            <RTBSite site_id="139599" 
              openx_encryption_key="C9DCA41807724CA4B6AEC421FF74C749A123772EB24148928804207981D083CC"
              openx_integrity_key="E199E923167547AC815BEA83E2862A08E4D4DB167CE94D248090A16C713D6498"/>
            <RTBSite site_id="139600" 
              tanx_encryption_key="5117962f876a70e1478e99fef41e71d6"
              openx_encryption_key="C9DCA41807724CA4B6AEC421FF74C749A123772EB24148928804207981D083CC"
              openx_integrity_key="E199E923167547AC815BEA83E2862A08E4D4DB167CE94D248090A16C713D6498"/>
          </coloParams>
          <Cookies
            domain=".foros-rubytest.net"
            path="/"/>
          <inventoryStats simplifying="100" distrib_count="4"/>
          <snmpStats enable="true" monitoring_tag_id="2157"/>
          <researchStat ip_salt="salt0" ip_logging_enabled="true" profiling_log_sampling="100">
            <receiverRef host="vauto" port="11875"/>
          </researchStat>
          <IPMapping>
            <colo ip_range="2.216.1.1/32" cohorts="" colo_id="58365" webindex_profile="false"/>
            <colo ip_range="5.10.16.0/20" cohorts="" colo_id="58386"/>
            <colo ip_range="2.216.1.2/32" cohorts="8-34-0" colo_id="58387"/>
            <colo ip_range="2.216.1.3/32" cohorts="8-34-1&#10;8-34-2" colo_id="58388"/>
            <colo ip_range="5.10.16.0/20&#10;5.10.144.0/20" cohorts="" colo_id="58389"/>
            <colo ip_range="5.53.64.0/19&#10;5.57.80.0/20&#10;5.10.144.0/20" cohorts="8-34-1" colo_id="58390"/>
            <colo ip_range="5.61.32.0/19&#10;5.64.0.0/13" cohorts="8-34-1&#10;8-34-2" colo_id="58391"/>
            <colo ip_range="" cohorts="8-34-3" colo_id="58392"/>
            <colo ip_range="0.0.0.0/0" cohorts="8-34-4" colo_id="58393"/>
            <colo ip_range="2.216.2.1/20" cohorts="" colo_id="58066"/>
            <colo ip_range="5.10.16.0/20" cohorts="" colo_id="58394"/>
            <colo ip_range="5.10.16.0/20" cohorts="8-34-11" colo_id="58395" webindex_profile="false"/>
            <colo ip_range="2.216.3.1/32" cohorts="" colo_id="58645" webindex_profile="true"/>
            <colo ip_range="2.24.0.1/32" cohorts="" colo_id="58969" webindex_profile="true"/>
            <colo ip_range="77.242.192.0/32" cohorts="" colo_id="59045" webindex_profile="false"/>
            <colo ip_range="77.244.128.0/32" cohorts="" colo_id="59046" webindex_profile="false"/>
            <colo ip_range="77.246.16.0/32" cohorts="" colo_id="59047" webindex_profile="false"/>
            <colo ip_range="2.24.0.2/32" cohorts="" colo_id="59005" webindex_profile="false"/>
            <colo ip_range="2.24.0.3/32" cohorts="" colo_id="59145" webindex_profile="false"/>
            <colo ip_range="2.24.0.4/32" cohorts="" colo_id="59146" webindex_profile="false"/>
            <colo ip_range="2.24.0.5/32" cohorts="" colo_id="59147" webindex_profile="false"/>
          </IPMapping>
          <WebIndexOnRTB enable_profiling="true">
            <Endpoint url="tcp://wind0:12000"/>
          </WebIndexOnRTB>
          <CTRConfig expire_timeout="3600">
            <sourceRef host="vauto" port="10002"/>
          </CTRConfig>
          <audienceChannelConfig>
            <sourceRef host="vauto" port="10011"/>
          </audienceChannelConfig>
          <central>
            <pgConnection connection_string="host=stat-test.ocslab.com port=5432 dbname=stat_test user=ro password=adserver"/>
            <pgConnectionForLogProcessing connection_string="host=stat-test.ocslab.com port=5432 dbname=stat_test user=ads password=adserver"/>

            <statFilesReceiverRef host="stat-test"/>
            <dataSourceRef host="vforos0"/>
            <segmentorMapping>
              <country name='cn' segmentor='Nlpir'/>
            </segmentorMapping>
          </central>
        </cluster>
      </configuration>

      <!-- lp, be -->
      <serviceGroup
        descriptor="AdCluster/BackendSubCluster"
        name="BackendSubCluster">

        <serviceGroup
          descriptor="AdCluster/BackendSubCluster/LogProcessing"
          name="LogProcessing">
          <configuration>
            <logProcessing xmlns="http://www.adintelligence.net/xsd/AdServer/Configuration">
              <syncLogs>
                <logging log_level="4"/>
                <fileTransferring file_check_period="10" host_check_period="10"/>
              </syncLogs>

              <syncLogsServer>
                <networkParams port="10114"/>
                <logging log_level="1" sys_log="false"/>
              </syncLogsServer>
            </logProcessing>
          </configuration>
        </serviceGroup>

        <service
          descriptor="AdCluster/BackendSubCluster/ExpressionMatcher"
          name="ExpressionMatcher"
          host="nnode0 nnode1">
          <configuration>
            <expressionMatcher xmlns="http://www.adintelligence.net/xsd/AdServer/Configuration">
              <updateParams period="30"/>
              <statLogging file_check_period="10" flush_period="10" activity_flush_period="3600" inventory_ecpm_flush_period="10"/>
            </expressionMatcher>
          </configuration>
        </service>

        <service
          descriptor="AdCluster/BackendSubCluster/LogGeneralizer"
          name="LogGeneralizer"
          host="nnode0 nnode3">
          <configuration>
            <logGeneralizer xmlns="http://www.adintelligence.net/xsd/AdServer/Configuration">
              <statLogging file_check_period="10" flush_period="10" flush_size="10000">
                <CCGKeywordStat/>
                <CCGUserStat file_check_period="11" flush_period="11"/>
                <SiteUserStat flush_size="10001"/>
                <ActionStat file_check_period="9" flush_period="9" flush_size="9999"/>
              </statLogging>
            </logGeneralizer>
          </configuration>
        </service>

        <service
          descriptor="AdCluster/BackendSubCluster/RequestInfoManager"
          name="RequestInfoManager"
          host="nnode0 nnode1">
          <configuration>
            <requestInfoManager xmlns="http://www.adintelligence.net/xsd/AdServer/Configuration">
              <statLogging file_check_period="10" flush_period="30"/>
            </requestInfoManager>
          </configuration>
        </service>

        <service
          descriptor="AdCluster/BackendSubCluster/CampaignServer"
          name="CampaignServer"
          host="nnode0 nnode1">
          <configuration>
            <campaignServer xmlns="http://www.adintelligence.net/xsd/AdServer/Configuration">
              <updateParams update_period="30" ecpm_update_period="30"/>
            </campaignServer>
          </configuration>
        </service>

        <service
          descriptor="AdCluster/BackendSubCluster/StatsCollector"
          name="StatsCollectorDevel"
          host="nnode0">
            <configuration>
            <statsCollector xmlns="http://www.adintelligence.net/xsd/AdServer/Configuration">
            </statsCollector>
            </configuration>
        </service>
        <service
          descriptor="AdCluster/BackendSubCluster/DictionaryProvider"
          name="DictionaryProvider"
          host="nnode2">
        </service>
        <service
          descriptor="AdCluster/BackendSubCluster/UserOperationGenerator"
          name="UserOperationGenerator"
          host="nnode2">
          <configuration>
            <userOperationGenerator xmlns="http://www.adintelligence.net/xsd/AdServer/Configuration">
              <logging log_level="8"/>
            </userOperationGenerator>
          </configuration>
        </service>

      </serviceGroup>

      <!-- fe -->
      <serviceGroup
        descriptor="AdCluster/FrontendSubCluster"
        name="FrontendSubCluster 1">
        <configuration>
            <frontendCluster xmlns="http://www.adintelligence.net/xsd/AdServer/Configuration">
              <channelServing>
                <scaleParams chunks_count="10"/>
              </channelServing>
            </frontendCluster>
          </configuration>

          <service
            descriptor="AdCluster/FrontendSubCluster/UserInfoManager"
            name="UserInfoManager #1"
            host="nnode0 nnode1 nnode2 nnode3">
            <configuration>
              <userInfoManager xmlns="http://www.adintelligence.net/xsd/AdServer/Configuration">
                <updateParams update_period="30"/>
                <profilesCleanupParams life_time="180" clean_time="00:01" clean_user_profiles="false"/>
                <matchParams repeat_trigger_timeout="0"/>
              </userInfoManager>
            </configuration>
          </service>

          <service
            descriptor="AdCluster/FrontendSubCluster/UserInfoManagerController"
            name="UserInfoManagerController"
            host="nnode0 nnode1">
            <configuration>
              <userInfoManagerController xmlns="http://www.adintelligence.net/xsd/AdServer/Configuration">
                <controlParams status_check_period="10"/>
              </userInfoManagerController>
            </configuration>
          </service>

          <service
            descriptor="AdCluster/FrontendSubCluster/ChannelServer"
            name="ChannelServer #1"
            host="nnode0 nnode1 nnode2 nnode3">
              <configuration>
                <channelServer xmlns="http://www.adintelligence.net/xsd/AdServer/Configuration">
                  <updateParams period="30" chunks_count="32"/>
                </channelServer>
              </configuration>
          </service>

          <service
             descriptor="AdCluster/FrontendSubCluster/ChannelController"
             name="ChannelController #1"
             host="nnode0 nnode3">
            <configuration>
              <channelController hosts_in_group="2" xmlns="http://www.adintelligence.net/xsd/AdServer/Configuration">
              </channelController>
            </configuration>
          </service>
          <service
             descriptor="AdCluster/FrontendSubCluster/ChannelSearchService"
             name="ChannelSearchService #1"
             host="nnode0">
            <configuration>
              <channelSearchService xmlns="http://www.adintelligence.net/xsd/AdServer/Configuration">
              </channelSearchService>
            </configuration>
          </service>
          <service
            descriptor="AdCluster/FrontendSubCluster/UserBindServer"
            name="UserBindServer"
            host="nnode0 nnode1 nnode2 nnode3">
            <configuration>
              <userBindServer xmlns="http://www.adintelligence.net/xsd/AdServer/Configuration" user_seen_expire_time="172800">
              </userBindServer>
            </configuration>
          </service>
          <service
            descriptor="AdCluster/FrontendSubCluster/UserBindController"
            name="UserBindController"
            host="nnode2">
            <configuration>
              <userBindController xmlns="http://www.adintelligence.net/xsd/AdServer/Configuration">
              </userBindController>
            </configuration>
          </service>

        <service
          descriptor="AdCluster/FrontendSubCluster/Frontend"
          name="Frontend #1"
          host="nnode0 nnode1 nnode2 nnode3">
            <configuration>
              <frontend xmlns="http://www.adintelligence.net/xsd/AdServer/Configuration">
                <webServerParams
                  timeout="300"
                  keep_alive="true"
                  server_limit="1"
                  start_servers="1"
                  max_clients="1000"
                  min_spare_threads="50"
                  max_spare_threads="50"
                  threads_per_process="100"/>
                <debugInfo use_acl="false" show_history_profile="true"/>
                <requestModule>
                  <logging/>
                  <session timeout="30"/>
                </requestModule>
                <impressionModule>
                  <logging log_level="4"/>
                </impressionModule>
                <clickModule>
                  <logging log_level="4"/>
                </clickModule>
                <actionModule>
                  <logging log_level="4"/>
                </actionModule>
                <optoutModule enable="false"/>
                <pageSenseModule/>
                <pubTagModule/>
                <statusModule/>
                <biddingModule max_bid_time="1000">
                  <logging log_level="8"/>
                  <source id="url" instantiate_type="url" request_type="openrtb with click url" default_account_id="346537"/>
                  <source id="script-url" instantiate_type="script with url" request_type="openrtb with click url"/>
                  <source id="body" instantiate_type="body" request_type="openrtb with click url"/>
                  <source id="url-no-click" instantiate_type="url" request_type="openrtb"/>
                  <source id="body-no-click" instantiate_type="body" request_type="openrtb"/>
                  <source id="iframe-url" instantiate_type="iframe with url" request_type="openrtb"/>
                  <source id="iframe-url-no-click" instantiate_type="iframe with url" request_type="openrtb"/>
                  <source id="body-tanx" instantiate_type="body" request_type="tanx" default_account_id="346322"/>
                  <source id="script-tanx" instantiate_type="script with url" request_type="tanx"/>
                  <source id="body-openx" instantiate_type="body" request_type="openx"/>
                  <source id="iframe-url-openx" instantiate_type="iframe with url" request_type="openx"/>
                  <source id="body-liverail" instantiate_type="body" request_type="liverail"/>
                  <source id="url-liverail" instantiate_type="url" request_type="liverail"/>
                  <source id="body-blank" instantiate_type="body"/>
                  <source id="body-allyes" instantiate_type="body" request_type="allyes" enable_notice="true"/>
                  <source id="iframe-url-allyes" instantiate_type="iframe with url" request_type="allyes" enable_notice="true"/>
                  <source id="iframe-url-adriver" instantiate_type="iframe with url" request_type="adriver" enable_notice="true"/>
                  <source id="body-adriver" instantiate_type="body" request_type="adriver" enable_notice="true"/>
                  <source id="body-openrtb-notice" instantiate_type="body" request_type="openrtb with click url" enable_notice="true"/>
                  <source id="body-baidu" instantiate_type="body" request_type="baidu" enable_notice="false" truncate_domain="false" default_account_id="346322"/>
                  <source id="script-baidu" instantiate_type="script with url" request_type="baidu" enable_notice="false" truncate_domain="false"/>
                  <source id="body-baidu-static" instantiate_type="body" request_type="baidu(static)" enable_notice="false" truncate_domain="false"/>
                  <source id="urlp-appnexus" instantiate_type="url parameters" request_type="appnexus"
                    enable_notice="false" truncate_domain="false" default_account_id="346537" appnexus_member_id="4737"/>
                  <source id="urlp-enc-appnexus" instantiate_type="encoded url parameters" request_type="appnexus" enable_notice="false" truncate_domain="false"/>
                  <source id="yandex" instantiate_type="data parameter value" request_type="yandex" enable_notice="false" truncate_domain="false"/>
                  <source id="yandex2" instantiate_type="data parameter value" request_type="yandex" enable_notice="false" truncate_domain="false"/>
                  <source id="vast-video-notice" instantiate_type="url" request_type="openrtb" enable_notice="false" truncate_domain="false" vast_instantiate_type="video url" vast_enable_notice="true"/>
                  <source id="vast-video" instantiate_type="body" request_type="openrtb" enable_notice="true" truncate_domain="false" vast_instantiate_type="video url" vast_enable_notice="false" ipw_extension="true"/>
                  <source id="vast-url" instantiate_type="body" request_type="openrtb" enable_notice="true" truncate_domain="false" vast_instantiate_type="url" vast_enable_notice="false"/>
                  <source id="vast-body" instantiate_type="url" request_type="openrtb" enable_notice="false" truncate_domain="false" vast_instantiate_type="body" vast_enable_notice="true"/>
                  <source id="vast-none" instantiate_type="body" request_type="openrtb" enable_notice="false" truncate_domain="false" vast_enable_notice="true"/>
                  <source id="vast-video-body" instantiate_type="body" request_type="openrtb" enable_notice="true" truncate_domain="false" vast_instantiate_type="video url in body" vast_enable_notice="true"/>
                  <source id="ipw" instantiate_type="body" request_type="openrtb" ipw_extension="true"/>
                </biddingModule>
                <userBindModule set_uid="true" create_profile="true" yandex_key="central-key-yandex">
                  <source id="url" redirect="http://cs.ocslab.com/cgi-bin/rtb-bind.cgi?ssp=1&amp;uid=##SSPUID##&amp;ssp_id=##EXTERNALID##"/>
                  <source id="body" redirect="http://aa.zz.rubypub.net/cgi-bin/rtb-bind.cgi?uid=##SSPUID##&amp;ssp_id=##EXTERNALID##&amp;ssp=2"/>
                  <source id="ssp-bind-ssl" redirect="https://cs.ocslab.com/cgi-bin/rtb-bind.cgi?uid=##SSPUID##&amp;ssp_id=##EXTERNALID##&amp;ssp=3"/>
                  <source id="ssp-bind-schemeless" redirect="//cs.ocslab.com/cgi-bin/rtb-bind.cgi?uid=##SSPUID##&amp;ssp_id=##EXTERNALID##&amp;ssp=4"/>
                  <source id="yandex" redirect="http://cs.ocslab.com/cgi-bin/rtb-bind.cgi?uid=##SSPUID##&amp;uid_unsigned=##UNSIGNEDSSPUID##&amp;ysign=##YANDEXSIGN##&amp;ssp=5"/>
                </userBindModule>
              </frontend>
            </configuration>
          </service>

          <service
            descriptor="AdCluster/FrontendSubCluster/BillingServer"
            name="BillingServer #1"
            host="nnode0 nnode1 nnode2 nnode3"/>

          <service
            descriptor="AdCluster/FrontendSubCluster/CampaignManager"
            name="CampaignManager #1"
            host="nnode0 nnode1 nnode2 nnode3">
            <configuration>
              <campaignManager xmlns="http://www.adintelligence.net/xsd/AdServer/Configuration">
                <updateParams
                  update_period="180"
                  ecpm_update_period="180"
                  campaign_types="all"/>
                <statLogging flush_period="10" internal_logs_flush_period="20"/>
              </campaignManager>
            </configuration>
          </service>
      </serviceGroup>

      <serviceGroup
        descriptor="AdCluster/FrontendSubCluster"
        name="FrontendSubCluster 2">
        <configuration>
          <frontendCluster xmlns="http://www.adintelligence.net/xsd/AdServer/Configuration">
            <channelServing>
              <scaleParams chunks_count="10"/>
            </channelServing>
          </frontendCluster>
        </configuration>

        <service
          descriptor="AdCluster/FrontendSubCluster/UserInfoManager"
          name="UserInfoManager #1"
          host="nnode4 nnode5">
          <configuration>
            <userInfoManager xmlns="http://www.adintelligence.net/xsd/AdServer/Configuration">
              <updateParams update_period="30"/>
              <profilesCleanupParams life_time="180" clean_time="00:01" clean_user_profiles="false"/>
              <matchParams repeat_trigger_timeout="0"/>
            </userInfoManager>
          </configuration>
        </service>

        <service
          descriptor="AdCluster/FrontendSubCluster/UserInfoManagerController"
          name="UserInfoManagerController"
          host="nnode4">
          <configuration>
            <userInfoManagerController xmlns="http://www.adintelligence.net/xsd/AdServer/Configuration">
              <controlParams status_check_period="10"/>
            </userInfoManagerController>
          </configuration>
        </service>

        <service
          descriptor="AdCluster/FrontendSubCluster/ChannelServer"
          name="ChannelServer #2"
          host="nnode4 nnode5">
          <configuration>
            <channelServer xmlns="http://www.adintelligence.net/xsd/AdServer/Configuration">
              <updateParams period="30" chunks_count="32"/>
            </channelServer>
          </configuration>
        </service>

        <service
           descriptor="AdCluster/FrontendSubCluster/ChannelController"
           name="ChannelController #2"
           host="nnode5 nnode4">
          <configuration>
            <channelController hosts_in_group="1" xmlns="http://www.adintelligence.net/xsd/AdServer/Configuration">
            </channelController>
          </configuration>
        </service>
        <service
           descriptor="AdCluster/FrontendSubCluster/ChannelSearchService"
           name="ChannelSearchService #2"
           host="nnode4">
          <configuration>
            <channelSearchService xmlns="http://www.adintelligence.net/xsd/AdServer/Configuration">
            </channelSearchService>
          </configuration>
        </service>
        <service
          descriptor="AdCluster/FrontendSubCluster/UserBindServer"
          name="UserBindServer"
          host="nnode4 nnode5">
          <configuration>
            <userBindServer xmlns="http://www.adintelligence.net/xsd/AdServer/Configuration" user_seen_expire_time="172800">
            </userBindServer>
          </configuration>
        </service>
        <service
          descriptor="AdCluster/FrontendSubCluster/UserBindController"
          name="UserBindController"
          host="nnode4">
          <configuration>
            <userBindController xmlns="http://www.adintelligence.net/xsd/AdServer/Configuration">
            </userBindController>
          </configuration>
        </service>

        <service
          descriptor="AdCluster/FrontendSubCluster/Frontend"
          name="Frontend #2"
          host="nnode4 nnode5">
           <configuration>
              <frontend xmlns="http://www.adintelligence.net/xsd/AdServer/Configuration">
                <webServerParams
                  timeout="300"
                  keep_alive="true"
                  max_clients="100"
                  min_spare_threads="50"
                  max_spare_threads="50"
                  threads_per_process="100"/>
                <debugInfo use_acl="false" show_history_profile="true"/>
                <requestModule>
                  <logging log_level="4"/>
                  <session timeout="30"/>
                </requestModule>
                <impressionModule>
                  <logging log_level="4"/>
                </impressionModule>
                <clickModule>
                  <logging log_level="4"/>
                </clickModule>
                <actionModule>
                  <logging log_level="4"/>
                </actionModule>
                <optoutModule enable="false"/>
                <pageSenseModule/>
                <pubTagModule/>
                <statusModule/>
                <biddingModule max_bid_time="1000">
                  <logging log_level="8"/>
                  <source id="url" instantiate_type="url" request_type="openrtb with click url" default_account_id="346537"/>
                  <source id="script-url" instantiate_type="script with url" request_type="openrtb with click url"/>
                  <source id="body" instantiate_type="body" request_type="openrtb with click url"/>
                  <source id="url-no-click" instantiate_type="url" request_type="openrtb"/>
                  <source id="body-no-click" instantiate_type="body" request_type="openrtb"/>
                  <source id="iframe-url" instantiate_type="iframe with url" request_type="openrtb"/>
                  <source id="iframe-url-no-click" instantiate_type="iframe with url" request_type="openrtb"/>
                  <source id="body-tanx" instantiate_type="body" request_type="tanx" default_account_id="346322"/>
                  <source id="script-tanx" instantiate_type="script with url" request_type="tanx"/>
                  <source id="body-openx" instantiate_type="body" request_type="openx"/>
                  <source id="iframe-url-openx" instantiate_type="iframe with url" request_type="openx"/>
                  <source id="body-liverail" instantiate_type="body" request_type="liverail"/>
                  <source id="url-liverail" instantiate_type="url" request_type="liverail"/>
                  <source id="body-blank" instantiate_type="body"/>
                  <source id="body-allyes" instantiate_type="body" request_type="allyes" enable_notice="true"/>
                  <source id="iframe-url-allyes" instantiate_type="iframe with url" request_type="allyes" enable_notice="true"/>
                  <source id="iframe-url-adriver" instantiate_type="iframe with url" request_type="adriver" enable_notice="true"/>
                  <source id="body-adriver" instantiate_type="body" request_type="adriver" enable_notice="true"/>
                  <source id="body-openrtb-notice" instantiate_type="body" request_type="openrtb with click url" enable_notice="true"/>
                  <source id="body-baidu" instantiate_type="body" request_type="baidu" enable_notice="false" truncate_domain="false" default_account_id="346322"/>
                  <source id="script-baidu" instantiate_type="script with url" request_type="baidu" enable_notice="false" truncate_domain="false"/>
                  <source id="body-baidu-static" instantiate_type="body" request_type="baidu(static)" enable_notice="false" truncate_domain="false"/>
                  <source id="urlp-appnexus" instantiate_type="url parameters" request_type="appnexus"
                    enable_notice="false" truncate_domain="false" default_account_id="346537" appnexus_member_id="4737"/>
                  <source id="urlp-enc-appnexus" instantiate_type="encoded url parameters" request_type="appnexus" enable_notice="false" truncate_domain="false"/>
                  <source id="yandex" instantiate_type="data parameter value" request_type="yandex" enable_notice="false" truncate_domain="false"/>
                  <source id="yandex2" instantiate_type="data parameter value" request_type="yandex" enable_notice="false" truncate_domain="false"/>
                  <source id="vast-video-notice" instantiate_type="url" request_type="openrtb" enable_notice="false" truncate_domain="false" vast_instantiate_type="video url" vast_enable_notice="true"/>
                  <source id="vast-video" instantiate_type="body" request_type="openrtb" enable_notice="true" truncate_domain="false" vast_instantiate_type="video url" vast_enable_notice="false" ipw_extension="true"/>
                  <source id="vast-url" instantiate_type="body" request_type="openrtb" enable_notice="true" truncate_domain="false" vast_instantiate_type="url" vast_enable_notice="false"/>
                  <source id="vast-body" instantiate_type="url" request_type="openrtb" enable_notice="false" truncate_domain="false" vast_instantiate_type="body" vast_enable_notice="true"/>
                  <source id="vast-none" instantiate_type="body" request_type="openrtb" enable_notice="false" truncate_domain="false" vast_instantiate_type="body" vast_enable_notice="false"/>
                  <source id="vast-video-body" instantiate_type="body" request_type="openrtb" enable_notice="true" truncate_domain="false" vast_instantiate_type="video url in body" vast_enable_notice="true"/>
                  <source id="ipw" instantiate_type="body" request_type="openrtb" ipw_extension="true"/>
                </biddingModule>
                <userBindModule set_uid="true" create_profile="true" yandex_key="central-key-yandex">
                  <source id="url" redirect="http://cs.ocslab.com/cgi-bin/rtb-bind.cgi?ssp=1&amp;uid=##SSPUID##&amp;ssp_id=##EXTERNALID##"/>
                  <source id="body" redirect="http://aa.zz.rubypub.net/cgi-bin/rtb-bind.cgi?uid=##SSPUID##&amp;ssp_id=##EXTERNALID##&amp;ssp=2"/>
                  <source id="ssp-bind-ssl" redirect="https://cs.ocslab.com/cgi-bin/rtb-bind.cgi?uid=##SSPUID##&amp;ssp_id=##EXTERNALID##&amp;ssp=3"/>
                  <source id="ssp-bind-schemeless" redirect="//cs.ocslab.com/cgi-bin/rtb-bind.cgi?uid=##SSPUID##&amp;ssp_id=##EXTERNALID##&amp;ssp=4"/>
                  <source id="yandex" redirect="http://cs.ocslab.com/cgi-bin/rtb-bind.cgi?uid=##SSPUID##&amp;uid_unsigned=##UNSIGNEDSSPUID##&amp;ysign=##YANDEXSIGN##&amp;ssp=5"/>
                </userBindModule>
              </frontend>
            </configuration>
          </service>

          <service
            descriptor="AdCluster/FrontendSubCluster/BillingServer"
            name="BillingServer #2"
            host="nnode4 nnode5"/>

          <service
            descriptor="AdCluster/FrontendSubCluster/CampaignManager"
            name="CampaignManager #2"
            host="nnode4 nnode5">

            <configuration>
              <campaignManager xmlns="http://www.adintelligence.net/xsd/AdServer/Configuration">
                <updateParams
                  update_period="180"
                  ecpm_update_period="180"
                  campaign_types="all"/>
                <statLogging flush_period="10" internal_logs_flush_period="20"/>
              </campaignManager>
            </configuration>
          </service>
      </serviceGroup>
    </serviceGroup>

    <serviceGroup descriptor="AdProxyCluster" name="AdProxyCluster 1">

      <configuration>
        <cluster xmlns="http://www.adintelligence.net/xsd/AdServer/Configuration">
          <environment
            workspace_root="/opt/foros/server/var"
            config_root="/opt/foros/server/etc"
            server_root="/opt/foros/server"/>
          <secureParams ca="ca.pem"/>
          <channelControllerRef host="nnode0" port="10104"/>
          <channelControllerRef host="nnode4" port="10104"/>
          <syncLogs xmlns="http://www.adintelligence.net/xsd/AdServer/Configuration">
            <logging log_level="4"/>
            <fileTransferring file_check_period="10" host_check_period="10">
              <logMove host="nnode0"/>
              <logMove host="nnode3"/>
              <dataSourceRef host="vforos0"/>
            </fileTransferring>
          </syncLogs>
        </cluster>
      </configuration>

      <service
        descriptor="AdProxyCluster/UserInfoExchanger"
        host="vnode0">
        <configuration>
          <userInfoExchanger xmlns="http://www.adintelligence.net/xsd/AdServer/Configuration">
            <externalNetworkParams port="10210" host="vnode0"/>
          </userInfoExchanger>
        </configuration>
      </service>

      <service
        descriptor="AdProxyCluster/ChannelProxy"
        host="vnode0">
        <configuration>
          <channelProxy xmlns="http://www.adintelligence.net/xsd/AdServer/Configuration">
            <externalNetworkParams port="10205" host="vnode0"/>
          </channelProxy>
        </configuration>
      </service>

      <service
        descriptor="AdProxyCluster/CampaignServer"
        host="vnode0">
        <configuration>
          <campaignServer xmlns="http://www.adintelligence.net/xsd/AdServer/Configuration">
            <externalNetworkParams port="10206" host="vnode0"/>
            <updateParams update_period="30" ecpm_update_period="30"/>
          </campaignServer>
        </configuration>
      </service>

      <service
        descriptor="AdProxyCluster/STunnelServer"
        host="vnode0">
        <configuration>
          <sTunnelServer xmlns="http://www.adintelligence.net/xsd/AdServer/Configuration"/>
        </configuration>
      </service>
    </serviceGroup>


    <serviceGroup descriptor="AdProxyCluster" name="AdProxyCluster 2">

      <configuration>
        <cluster xmlns="http://www.adintelligence.net/xsd/AdServer/Configuration">
          <environment
            workspace_root="/opt/foros/server/var"
            config_root="/opt/foros/server/etc"
            server_root="/opt/foros/server"/>
          <secureParams ca="ca.pem"/>
          <channelControllerRef host="nnode1" port="10104"/>
          <channelControllerRef host="nnode5" port="10104"/>
          <syncLogs xmlns="http://www.adintelligence.net/xsd/AdServer/Configuration">
            <logging log_level="4"/>
            <fileTransferring file_check_period="10" host_check_period="10">
              <logMove host="nnode0"/>
              <logMove host="nnode3"/>
              <dataSourceRef host="vforos0"/>
            </fileTransferring>
          </syncLogs>
        </cluster>
      </configuration>

      <service
        descriptor="AdProxyCluster/UserInfoExchanger"
        host="vnode3">
        <configuration>
          <userInfoExchanger xmlns="http://www.adintelligence.net/xsd/AdServer/Configuration">
            <externalNetworkParams port="10210" host="vnode3"/>
          </userInfoExchanger>
        </configuration>
      </service>

      <service
        descriptor="AdProxyCluster/ChannelProxy"
        host="vnode3">
        <configuration>
          <channelProxy xmlns="http://www.adintelligence.net/xsd/AdServer/Configuration">
            <externalNetworkParams port="10205" host="vnode3"/>
          </channelProxy>
        </configuration>
      </service>

      <service
        descriptor="AdProxyCluster/CampaignServer"
        host="vnode3">
        <configuration>
          <campaignServer xmlns="http://www.adintelligence.net/xsd/AdServer/Configuration">
            <externalNetworkParams port="10206" host="vnode3"/>
            <updateParams update_period="30" ecpm_update_period="30"/>
          </campaignServer>
        </configuration>
      </service>

      <service
        descriptor="AdProxyCluster/STunnelServer"
        host="vnode3">
        <configuration>
          <sTunnelServer xmlns="http://www.adintelligence.net/xsd/AdServer/Configuration"/>
        </configuration>
      </service>
    </serviceGroup>
  </application>

</colo:colocation>
